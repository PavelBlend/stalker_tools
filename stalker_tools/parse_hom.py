from stalker_tools import xray_utilsfrom stalker_tools.xray_utils import unpack_data as u# BLOCKS / ChunksVERSION  = 0POLYGONS = 1def hom_data_parse(data):    position = 0    while position < len(data):        position, block_id, block_size = xray_utils.read_block(position, data)        if block_id == VERSION:            version, position = u('I', data, position)        elif block_id == POLYGONS:            polygons_count = block_size // 40            vertices = []            for polygon in range(polygons_count):                verts, position = u('9f', data, position)                flags, position = u('I', data, position)                vertices.append((verts[0], verts[2], verts[1]))                vertices.append((verts[3], verts[5], verts[4]))                vertices.append((verts[6], verts[8], verts[7]))        else:            print('UNKNOW BLOCK', block_id)    triangles = []    index = 0    # generate triangles    for vertex in range(len(vertices) // 3):        triangles.append((index, index+2, index+1))        index += 3        mesh_data = {}    mesh_data['vertices'] = vertices    mesh_data['triangles'] = triangles    mesh_data['uvs'] = None    mesh_data['images'] = None    mesh_data['materials'] = None    mesh_data['material_indices'] = None    return mesh_data